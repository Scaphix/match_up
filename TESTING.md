# Testing

> [!NOTE]  
> Return back to the [README.md](README.md) file.


## Code Validation


### HTML


I have used the recommended [HTML W3C Validator](https://validator.w3.org) to validate all of my HTML files.

| Directory | File  | Screenshot | 
| --- | --- | --- | 
| connections | [discover.html](https://github.com/Scaphix/match_up/blob/main/connections/templates/connections/discover.html) | ![screenshot](documentation/validation/html-discover.png) | 
| connections | [liked_profiles.html](https://github.com/Scaphix/match_up/blob/main/connections/templates/connections/liked_profiles.html) |  ![screenshot](documentation/validation/html-liked_profiles.png) | 
| connections | [matches.html](https://github.com/Scaphix/match_up/blob/main/connections/templates/connections/matches.html) |  ![screenshot](documentation/validation/html-matches.png) | 
| dating | [about.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/about.html) |  ![screenshot](documentation/validation/html-dating-about.png) | 
| dating | [contact.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/contact.html) |  ![screenshot](documentation/validation/html-dating-contact.png) | 
| dating | [index.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/index.html) |  ![screenshot](documentation/validation/html-index.png) | 
| dating | [profile_delete.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/profile_delete.html)  | ![screenshot](documentation/validation/html-profile_delete.png) | 
| dating | [profile_detail.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/profile_detail.html)  | ![screenshot](documentation/validation/html-profile_detail.png) | 
| dating | [profile_form.html](https://github.com/Scaphix/match_up/blob/main/dating/templates/dating/profile_form.html) | ![screenshot](documentation/validation/html-profile_form.png) | 
| templates | [404.html](https://github.com/Scaphix/match_up/blob/main/templates/404.html) |  ![screenshot](documentation/validation/html-404.png) | 
| templates | [login.html](https://github.com/Scaphix/match_up/blob/main/templates/account/login.html) |  ![screenshot](documentation/validation/html-login.png) | 
| templates | [logout.html](https://github.com/Scaphix/match_up/blob/main/templates/account/logout.html) |  ![screenshot](documentation/validation/html-logout.png) | 
| templates | [signup.html](https://github.com/Scaphix/match_up/blob/main/templates/account/signup.html) |  ![screenshot](documentation/validation/html-signup.png) | 

### CSS


I have used the recommended [CSS Jigsaw Validator](https://jigsaw.w3.org/css-validator) to validate all of my CSS files.

| Directory | File | Screenshot |
| --- | --- | --- |
| static | [style.css](https://github.com/Scaphix/match_up/blob/main/static/css/style.css) | ![screenshot](documentation/validation/css-style.png) | 


#

### Python


I have used the recommended [PEP8 CI Python Linter](https://pep8ci.herokuapp.com) to validate all of my Python files.

| Directory | File | URL | Screenshot | 
| --- | --- | --- | --- | 
| connections | [admin.py](https://github.com/Scaphix/match_up/blob/main/connections/admin.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/admin.py) | ![screenshot](documentation/validation/connections-admin.png) | 
| connections | [models.py](https://github.com/Scaphix/match_up/blob/main/connections/models.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/models.py) | ![screenshot](documentation/validation/connections-models.png) | 
| connections | [services.py](https://github.com/Scaphix/match_up/blob/main/connections/services.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/services.py) | ![screenshot](documentation/validation/connections-services.png) | 
| connections | [signals.py](https://github.com/Scaphix/match_up/blob/main/connections/signals.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/signals.py) | ![screenshot](documentation/validation/connections-signals.png) | 
| connections | [tests.py](https://github.com/Scaphix/match_up/blob/main/connections/tests.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/tests.py) | ![screenshot](documentation/validation/connections-tests.png) | 
| connections | [urls.py](https://github.com/Scaphix/match_up/blob/main/connections/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/urls.py) | ![screenshot](documentation/validation/connections-urls.png) | 
| connections | [views.py](https://github.com/Scaphix/match_up/blob/main/connections/views.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/connections/views.py) | ![screenshot](documentation/validation/connections-views.png) | 
| dating | [admin.py](https://github.com/Scaphix/match_up/blob/main/dating/admin.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/dating/admin.py) | ![screenshot](documentation/validation/dating-admin.png) |  
| dating | [models.py](https://github.com/Scaphix/match_up/blob/main/dating/models.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/dating/models.py) | ![screenshot](documentation/validation/dating-models.png) | 
| dating | [tests.py](https://github.com/Scaphix/match_up/blob/main/dating/tests.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/dating/tests.py) | ![screenshot](documentation/validation/dating-tests.png) | 
| dating | [urls.py](https://github.com/Scaphix/match_up/blob/main/dating/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/dating/urls.py) | ![screenshot](documentation/validation/dating-urls.png) | 
| dating | [views.py](https://github.com/Scaphix/match_up/blob/main/dating/views.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/dating/views.py) | ![screenshot](documentation/validation/dating-views.png) | 
|  | [manage.py](https://github.com/Scaphix/match_up/blob/main/manage.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/manage.py) | ![screenshot](documentation/validation/manage.png) | 
| match_up | [settings.py](https://github.com/Scaphix/match_up/blob/main/match_up/settings.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/match_up/settings.py) | ![screenshot](documentation/validation/match-up-settings.png) | 
| match_up | [urls.py](https://github.com/Scaphix/match_up/blob/main/match_up/urls.py) | [PEP8 CI Link](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/Scaphix/match_up/main/match_up/urls.py) | ![screenshot](documentation/validation/match-up-urls.png) | 



## Lighthouse Audit


I've tested my deployed project using the Lighthouse Audit tool to check for any major issues. Some warnings are outside of my control, and mobile results tend to be lower than desktop.

| Page | Mobile | Desktop |
| --- | --- | --- |
| Register | ![screenshot](documentation/lighthouse/mobile-register.png) | ![screenshot](documentation/lighthouse/desktop-register.png) |
| Login | ![screenshot](documentation/lighthouse/mobile-login.png) | ![screenshot](documentation/lighthouse/desktop-login.png) |
| Home | ![screenshot](documentation/lighthouse/mobile-index.png) | ![screenshot](documentation/lighthouse/desktop-index.png) |
| Profile-detail | ![screenshot](documentation/lighthouse/mobile-about-me.png) | ![screenshot](documentation/lighthouse/desktop-about-me.png) |
| Discover | ![screenshot](documentation/lighthouse/mobile-discover.png) | ![screenshot](documentation/lighthouse/desktop-discover.png) |
| Liked-profiles | ![screenshot](documentation/lighthouse/mobile-discover.png) | ![screenshot](documentation/lighthouse/desktop-blog-post.png) |
| Matches | ![screenshot](documentation/lighthouse/mobile-matches.png) | ![screenshot](documentation/lighthouse/desktop-matches.png) |
| 404 | ![screenshot](documentation/lighthouse/mobile-404.png) | ![screenshot](documentation/lighthouse/desktop-404.png) |

## Defensive Programming


Defensive programming was manually tested with the below user acceptance testing:

| Page/Feature | Expectation | Test | Result | Screenshot |
| --- | --- | --- | --- | --- |
| Profile Creation | Feature is expected to prevent creating duplicate profiles for the same user. | Attempted to create a second profile for an existing user. | Error message displayed: "You already have a profile." Profile creation was prevented. | - |
| | Feature is expected to validate profile data (age must be 18+, bio minimum length, etc.). | Submitted profile form with invalid data (age < 18, bio too short). | Validation errors displayed for each invalid field. Profile was not created. | ![screenshot](documentation/features/error-handling2.png) |
| | Feature is expected to handle database transaction errors gracefully. | Simulated database integrity error during profile creation. | Transaction was rolled back cleanly. User-friendly error message displayed. | - |
| Profile Management | Feature is expected to require authentication before accessing profile pages. | Attempted to access profile edit page without logging in. | User was redirected to login page. Access was denied. | - |
| | Feature is expected to check if profile exists before allowing edit/delete. | Attempted to edit profile when no profile exists. | User was redirected to profile creation page. | - |
| | Feature is expected to only allow users to edit/delete their own profile. | Attempted to access another user's profile edit URL. | Access was denied. User could only access their own profile. | - |
| Like/Pass Actions | Feature is expected to prevent users from liking their own profile. | Attempted to like own profile. | Error message displayed: "Cannot like your own profile." Action was prevented. | - |
| | Feature is expected to require user to have a profile before liking others. | Attempted to like a profile without having created own profile. | Error message displayed: "You must create a profile first." Action was prevented. | - |
| | Feature is expected to handle non-existent profile IDs gracefully. | Attempted to like a profile with invalid/non-existent ID. | 404 error page displayed. Action was prevented. | ![screenshot](documentation/features/404.png) |
| Discover Page | Feature is expected to redirect unauthenticated users to login. | Attempted to access discover page without logging in. | User was redirected to login page. Access was denied. | - |
| | Feature is expected to redirect users without profiles to profile creation. | Attempted to access discover page without creating profile. | User was redirected to profile creation page. | ![screenshot](documentation/features/redirect-to-create-profile.png) |
| | Feature is expected to exclude already interacted profiles from the feed. | Viewed discover page after liking/passing on several profiles. | Previously interacted profiles were excluded from the feed. | - |
| Matches Page | Feature is expected to only show active matches for the current user. | Viewed matches page with both active and inactive matches. | Only active matches were displayed. Inactive matches were filtered out. | - |
| User Authentication | Feature is expected to validate login credentials. | Attempted to log in with invalid credentials. | Login was rejected. Error message displayed. | ![screenshot](documentation/features/invalid-credentials.png) |
| | Feature is expected to prevent access to protected pages after logout. | Logged out and attempted to access a protected page (e.g., discover). | User was redirected to login page. Access was denied. | ![screenshot](documentation/features/login.png) |
| | Feature is expected to handle duplicate username/email during registration. | Attempted to register with an existing username or email. | Registration was rejected. Error message displayed indicating the field already exists. | ![screenshot](documentation/features/signup-duplicate.png) |
| 404 Error Page | Feature is expected to display a custom 404 error page for non-existent pages. | Navigated to an invalid URL (e.g., `/profile/99999/`). | Custom 404 error page was displayed with navigation options. | ![screenshot](documentation/features/404.png) |
| Admin Access | Feature is expected to block non-admin users from accessing admin pages. | Attempted to navigate to admin-only pages by manipulating the URL (e.g., `/admin`). | Access was blocked. Login page or access denied message displayed. | - |

## User Story Testing

All user stories from the project have been manually tested to ensure they meet the acceptance criteria. Below are the test results for each user story.

| Target | Expectation | Outcome | Screenshot |
| --- | --- | --- | --- |
| As a guest user | I would like to view the home page | so that I can understand what the platform offers. | ![screenshot](documentation/features/home.png) |
| As a new user | I can create an account/login to my account | so that I can access the dating platform. | ![screenshot](documentation/features/register.png) / ![screenshot](documentation/features/login.png) |
| As a registered user | I can create/edit my profile | so that other users can learn about me. | ![screenshot](documentation/features/create-profile.png) / ![screenshot](documentation/features/edit-profile.png) |
| As a registered user | I can delete my profile and account | so that I can remove my presence from the platform. | ![screenshot](documentation/features/delete-profile.png) |
| As a registered user | I can view other profiles | so that I can discover potential matches. | ![screenshot](documentation/features/discover.png) |
| As a registered user | I can rate a person (like or pass) | so that this person can be my match or not. | ![screenshot](documentation/features/like-profile.png) / ![screenshot](documentation/features/pass-profile.png) |
| As a registered user | I can see my mutual matches | so that I can connect with people who also like me. | ![screenshot](documentation/features/matches.png) |
| As a registered user | I want to be notified and automatically redirected to the matches page when I have a new match | so that I don't miss opportunities to connect. | ![screenshot](documentation/features/match-notification.png) |
| As a registered user | I can see profiles fade out after I like or pass on them | so that I get visual feedback that my action was successful. | ![screenshot](documentation/features/pass-profile.png) |
| As a registered user | I can view detailed profile information | so that I can learn more about someone before connecting. | ![screenshot](documentation/features/profile-detail.png) |
| As a registered user | I can return to the previous page when viewing a profile detail | so that I can easily continue browsing from where I left off. | ![screenshot](documentation/features/return.png) |
| As a registered user | I can see profiles I've liked | so that I can review my interests and revisit profiles. | ![screenshot](documentation/features/liked-profiles.png) |
| As a user | I would like responsive design on mobile | so that I can browse matches on any device. | ![screenshot](documentation/mockup.png) |
| As a user | I would like to see a 404 error page if I get lost | so that it's obvious that I've stumbled upon a page that doesn't exist. | ![screenshot](documentation/features/404.png) |

## Automated Testing

I have conducted a series of automated tests on my application.

> [!NOTE]  
> I fully acknowledge and understand that, in a real-world scenario, an extensive set of additional tests would be more comprehensive.


### Python (Unit Testing)

I have used Django's built-in unit testing framework to test the application functionality.
 
I created unit tests for the "dating" and "connections" app views which cover the applications main functionalities. All tests passed successfully.

In order to run the tests, I ran the following command in the terminal each time:

- `python3 manage.py test dating`
- `python3 manage.py test connections`

**Results:**

NO ERROR found:

![Test Results Screenshot](documentation/dating-test.png)


![Test Results Screenshot](documentation/connections-test.png)


To create the coverage report, I would then run the following commands:

- `pip3 install coverage`
- `pip3 freeze --local > requirements.txt`
- `coverage run --omit="*/site-packages/*,*/migrations/*,*/__init__.py,env.py,.env" manage.py test`
- `coverage report`

To see the HTML version of the reports, and find out whether some pieces of code were missing, I ran the following commands:

- `coverage html`
- `python3 -m http.server`

Below are the results from the full coverage report on my application that I've tested:

![screenshot](documentation/coverage-report.png)
